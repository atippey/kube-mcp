# Example MCP resources for testing
# All resources use the label "mcp-server: echo" to be selected by the MCPServer
---
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPServer
metadata:
  name: echo
  namespace: mcp-test
spec:
  replicas: 1
  redis:
    serviceName: mcp-redis
  toolSelector:
    matchLabels:
      mcp-server: echo
---
# Example MCPTool - points to the echo-backend service
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPTool
metadata:
  name: echo-tool
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: echo
  description: Echoes back the input for testing
  service:
    name: echo-backend-svc
    port: 8080
    path: /
  inputSchema:
    type: object
    properties:
      message:
        type: string
        description: Message to echo back
    required:
      - message
  method: POST
---
# Example MCPTool - calculator
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPTool
metadata:
  name: calculator-tool
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: calculator
  description: Performs basic math operations
  service:
    name: echo-backend-svc
    port: 8080
    path: /calculate
  inputSchema:
    type: object
    properties:
      operation:
        type: string
        enum: [add, subtract, multiply, divide]
      a:
        type: number
      b:
        type: number
    required:
      - operation
      - a
      - b
  method: POST
---
# Example MCPPrompt - greeting template
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPPrompt
metadata:
  name: greeting-prompt
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: greeting
  description: A friendly greeting template
  template: |
    Hello {{name}}!

    Welcome to the MCP Echo Server. Today is {{date}}.

    How can I help you with {{topic}}?
  variables:
    - name: name
      description: The name of the person to greet
      required: true
    - name: date
      description: Today's date
      required: false
      default: "today"
    - name: topic
      description: The topic of discussion
      required: false
      default: "anything"
---
# Example MCPPrompt - code review template
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPPrompt
metadata:
  name: code-review-prompt
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: code-review
  description: Template for code review requests
  template: |
    Please review the following {{language}} code:

    ```{{language}}
    {{code}}
    ```

    Focus on:
    - Code quality and best practices
    - Potential bugs or issues
    - Performance considerations
  variables:
    - name: language
      description: Programming language
      required: true
    - name: code
      description: The code to review
      required: true
---
# Example MCPResource - inline configuration
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPResource
metadata:
  name: sample-config
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: sample-config
  description: Sample configuration resource
  content:
    uri: "config://sample/settings"
    mimeType: "application/json"
    text: |
      {
        "debug": true,
        "log_level": "info",
        "features": {
          "echo": true,
          "calculator": true
        }
      }
---
# Example MCPResource - inline documentation
apiVersion: mcp.k8s.turd.ninja/v1alpha1
kind: MCPResource
metadata:
  name: readme
  namespace: mcp-test
  labels:
    mcp-server: echo
spec:
  name: readme
  description: Echo server documentation
  content:
    uri: "docs://echo-server/readme"
    mimeType: "text/markdown"
    text: |
      # MCP Echo Server

      This is a sample MCP server for testing the kube-mcp operator.

      ## Available Tools

      - **echo**: Echoes back your input
      - **calculator**: Performs basic math

      ## Available Prompts

      - **greeting**: A friendly greeting template
      - **code-review**: Code review request template
