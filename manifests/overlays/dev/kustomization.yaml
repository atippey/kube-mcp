apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Dev overlay - for local development outside cluster
# Run operator locally with: make run

resources:
  - ../../base

# In dev mode, we only deploy CRDs, RBAC, and Redis
# The operator runs locally via `kopf run`

# Skip operator deployment in dev mode
patches:
  - target:
      kind: Deployment
      name: mcp-operator
    patch: |
      $patch: delete
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: mcp-operator
